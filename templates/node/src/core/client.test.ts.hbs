import { describe, it, expect } from 'vitest';
import { Client } from './client';

describe('Client', () => {
it('creates with default config', () => {
const client = new Client({
apiKey: 'test-key',
});

const config = client.getConfig();
expect(config.apiKey).toBe('test-key');
expect(config.baseUrl).toBe('https://api.example.com');
expect(config.timeout).toBe(30000);
});

it('creates with custom config', () => {
const client = new Client({
apiKey: 'test-key',
baseUrl: 'https://custom.api.com',
timeout: 5000,
});

const config = client.getConfig();
expect(config.baseUrl).toBe('https://custom.api.com');
expect(config.timeout).toBe(5000);
});

it('updates config', () => {
const client = new Client({
apiKey: 'test-key',
});

client.setConfig({ timeout: 10000 });

const config = client.getConfig();
expect(config.timeout).toBe(10000);
});

it('ping returns ok', async () => {
const client = new Client({
apiKey: 'test-key',
});

const result = await client.ping();
expect(result.ok).toBe(true);
});
});