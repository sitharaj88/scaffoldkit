import typescript from '@rollup/plugin-typescript';
import resolve from '@rollup/plugin-node-resolve';
{{#eq framework 'react'}}
import react from '@vitejs/plugin-react';
{{/eq}}
{{#eq framework 'vue'}}
import vue from '@vitejs/plugin-vue';
{{/eq}}
{{#eq framework 'svelte'}}
import svelte from 'rollup-plugin-svelte';
import sveltePreprocess from 'svelte-preprocess';
{{/eq}}

export default {
input: 'src/index.ts',
output: [
{
file: 'dist/index.js',
format: 'esm',
sourcemap: true,
},
{{#eq moduleFormat 'dual'}}
{
file: 'dist/index.cjs',
format: 'cjs',
sourcemap: true,
},
{{/eq}}
],
plugins: [
resolve(),
typescript({
tsconfig: './tsconfig.json',
declaration: true,
declarationDir: 'dist',
}),
{{#eq framework 'react'}}
react(),
{{/eq}}
{{#eq framework 'vue'}}
vue(),
{{/eq}}
{{#eq framework 'svelte'}}
svelte({
preprocess: sveltePreprocess(),
}),
{{/eq}}
],
external: [
{{#eq framework 'react'}}
'react',
'react-dom',
{{/eq}}
{{#eq framework 'vue'}}
'vue',
{{/eq}}
{{#eq framework 'svelte'}}
'svelte',
{{/eq}}
],
};